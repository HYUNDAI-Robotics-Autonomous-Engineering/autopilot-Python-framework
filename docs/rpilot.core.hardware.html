<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>hardware &#8212; rpilot 0.2 documentation</title>
    <link rel="stylesheet" href="/_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="/_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/restyle.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="/_static/documentation_options.js"></script>
    <script type="text/javascript" src="/_static/jquery.js"></script>
    <script type="text/javascript" src="/_static/underscore.js"></script>
    <script type="text/javascript" src="/_static/doctools.js"></script>
    <script type="text/javascript" src="/_static/language_data.js"></script>
    <script type="text/javascript" src="/_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="/_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="/_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/_static/bootstrap-sphinx.js"></script>
    <link rel="canonical" href="http://docs.rpilot.net/rpilot.core.hardware.html" />
    <link rel="index" title="Index" href="/genindex.html" />
    <link rel="search" title="Search" href="/search.html" />
    <link rel="next" title="Beambreak" href="/api/rpilot.core.hardware.Beambreak.html" />
    <link rel="prev" title="Weights" href="/api/rpilot.core.gui.Weights.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/index.html">
          RPilot</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">RPilot Docs <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">User Guide Sections:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="/guide.overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="/guide.installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="/guide.installation.html#setting-up-a-pilot">Setting Up a Pilot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/guide.installation.html#pilot-presetup">Pilot Presetup</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="/rpilot.core.html">Core Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.gui.html">gui</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.gui.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.gui.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.gui.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">hardware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.networking.html">networking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.networking.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.networking.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.pilot.html">pilot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.pilot.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.pilot.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.plots.html">plots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.plots.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.plots.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.plots.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.subject.html">mouse</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.subject.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.subject.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.terminal.html">terminal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.terminal.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.terminal.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.core.utils.html">utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.utils.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.utils.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.core.utils.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="/rpilot.tasks.html">Tasks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.tasks.free_water.html">free_water</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.free_water.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.free_water.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.tasks.graduation.html">graduation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.graduation.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.graduation.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.tasks.nafc.html">nafc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.nafc.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.nafc.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.tasks.task.html">task</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.task.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.tasks.task.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="/rpilot.stim.html">Stimuli</a><ul>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.stim.managers.html">managers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.stim.managers.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.stim.managers.html#classes">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.stim.managers.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.stim.sound.html">sound</a><ul>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.stim.sound.jackclient.html">jackclient</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.stim.sound.pyoserver.html">pyoserver</a></li>
<li class="toctree-l3"><a class="reference internal" href="/rpilot.stim.sound.sounds.html">sounds</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="/rpilot.viz.html">Visualization Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.viz.trial_viewer.html">trial_viewer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="/rpilot.setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.setup.setup_pilot.html">setup_pilot</a></li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.setup.setup_scale.html">setup_scale</a></li>
<li class="toctree-l2"><a class="reference internal" href="/rpilot.setup.setup_terminal.html">setup_terminal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="/rpilot.prefs.html">Prefs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="/todo.html">To-Do</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">hardware</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="/api/rpilot.core.gui.Weights.html" title="Previous Chapter: Weights"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Weights</span>
    </a>
  </li>
  <li>
    <a href="/api/rpilot.core.hardware.Beambreak.html" title="Next Chapter: Beambreak"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Beambreak &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="/_sources/rpilot.core.hardware.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">hardware</a><ul>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>

  <li>
    <a href="/api/rpilot.core.gui.Weights.html" title="Previous Chapter: Weights"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Weights</span>
    </a>
  </li>
  <li>
    <a href="/api/rpilot.core.hardware.Beambreak.html" title="Next Chapter: Beambreak"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Beambreak &raquo;</span>
    </a>
  </li>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="module-rpilot.core.hardware">
<span id="hardware"></span><h1>hardware<a class="headerlink" href="#module-rpilot.core.hardware" title="Permalink to this headline">¶</a></h1>
<p>Classes that manage hardware logic.</p>
<p>Each hardware class should be able to operate independently - ie. not
be dependent on a particular task class, etc. Other than that there are
very few design requirements:</p>
<ul class="simple">
<li>Every class should have a .release() method that releases any system
resources in use by the object, eg. objects that use pigpio must have
their <cite>pigpio.pi</cite> client stopped; LEDs should be explicitly turned off.</li>
<li>The very minimal class attributes are described in the <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hardware</span></code></a> metaclass.</li>
<li>Hardware methods are typically called in their own threads, so care should
be taken to make any long-running operations internally threadsafe.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This software was primarily developed for the Raspberry Pi, which
has <a class="reference external" href="/https://pinout.xyz/#">two types of numbering schemes</a> ,
“board” numbering based on physical position and “bcm” numbering
based on the broadcom chip numbering scheme.</p>
<p>Board numbering is easier to use, but <a class="reference external" href="/http://abyz.me.uk/rpi/pigpio/">pigpio</a>
, which we use as a bridge between Python and the GPIOs, uses the BCM scheme.
As such each class that uses the GPIOs takes a board number as its argument
and converts it to a BCM number in the __init__ method.</p>
<p class="last">If there is sufficient demand to make this more flexible, we can implement
an additional <cite>pref</cite> to set the numbering scheme, but the current solution
works without getting too muddy.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In order to use pigpio, the pigpio daemon must be running. See <a class="reference external" href="/http://abyz.me.uk/rpi/pigpio/python.html">the docs</a>
Usually <code class="xref py py-class docutils literal notranslate"><span class="pre">Pilot</span></code> s should be started by the bash script or systemd service
generated by <a class="reference internal" href="/rst/rpilot.setup.setup_pilot.html#module-rpilot.setup.setup_pilot" title="rpilot.setup.setup_pilot"><code class="xref py py-mod docutils literal notranslate"><span class="pre">setup.setup_pilot</span></code></a>, which starts pigpiod.</p>
</div>
<div class="section" id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Beambreak" title="rpilot.core.hardware.Beambreak"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Beambreak</span></code></a>(pin[,&nbsp;pull_ud,&nbsp;trigger_ud,&nbsp;event])</td>
<td>An IR Beambreak sensor.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Flag" title="rpilot.core.hardware.Flag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Flag</span></code></a>(pin)</td>
<td>Trivial Reclass of the Beambreak class with the default directions reversed.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Hardware</span></code></a></td>
<td>Generic class inherited by all hardware.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.LED_RGB" title="rpilot.core.hardware.LED_RGB"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LED_RGB</span></code></a>([pins,&nbsp;r,&nbsp;g,&nbsp;b,&nbsp;common,&nbsp;blink])</td>
<td>An RGB LED.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Pull" title="rpilot.core.hardware.Pull"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Pull</span></code></a>(pin,&nbsp;pud)</td>
<td>Pull a pin up or down.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Scale" title="rpilot.core.hardware.Scale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Scale</span></code></a>([model,&nbsp;vendor_id,&nbsp;product_id])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Solenoid" title="rpilot.core.hardware.Solenoid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Solenoid</span></code></a>(pin[,&nbsp;duration,&nbsp;vol])</td>
<td>Solenoid valves for water delivery.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Wheel" title="rpilot.core.hardware.Wheel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Wheel</span></code></a>([mouse_idx,&nbsp;fs,&nbsp;thresh,&nbsp;thresh_type,&nbsp;…])</td>
<td>A continuously measured mouse wheel.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="class-inheritance-diagram">
<h2>Class Inheritance Diagram<a class="headerlink" href="#class-inheritance-diagram" title="Permalink to this headline">¶</a></h2>
<div class="graphviz"><img src="_images/inheritance-876cd5879c2fe4a2fa02358ddaa071004f2502dc.png" alt="Inheritance diagram of rpilot.core.hardware.Beambreak, rpilot.core.hardware.Flag, rpilot.core.hardware.Hardware, rpilot.core.hardware.LED_RGB, rpilot.core.hardware.Pull, rpilot.core.hardware.Scale, rpilot.core.hardware.Solenoid, rpilot.core.hardware.Wheel" usemap="#inheritanceef97e5fc3c" class="inheritance graphviz" /></div>
<map id="inheritanceef97e5fc3c" name="inheritanceef97e5fc3c">
<area shape="rect" id="node1" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Beambreak" target="_top" title="An IR Beambreak sensor." alt="" coords="132,5,222,29"/>
<area shape="rect" id="node3" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Flag" target="_top" title="Trivial Reclass of the Beambreak class with the default directions reversed." alt="" coords="270,5,342,29"/>
<area shape="rect" id="node2" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" target="_top" title="Generic class inherited by all hardware. Should not be instantiated" alt="" coords="5,125,84,149"/>
<area shape="rect" id="node4" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.LED_RGB" target="_top" title="An RGB LED." alt="" coords="135,53,219,77"/>
<area shape="rect" id="node5" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Pull" target="_top" title="Pull a pin up or down. Called by the :class:`~.pilot.Pilot` instead of by" alt="" coords="141,101,213,125"/>
<area shape="rect" id="node6" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Scale" target="_top" title="Note:" alt="" coords="141,149,213,173"/>
<area shape="rect" id="node7" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Solenoid" target="_top" title="Solenoid valves for water delivery." alt="" coords="141,197,214,221"/>
<area shape="rect" id="node8" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Wheel" target="_top" title="A continuously measured mouse wheel." alt="" coords="141,245,213,269"/>
</map><span class="target" id="module-rpilot.core.hardware"></span><p>Classes that manage hardware logic.</p>
<p>Each hardware class should be able to operate independently - ie. not
be dependent on a particular task class, etc. Other than that there are
very few design requirements:</p>
<ul class="simple">
<li>Every class should have a .release() method that releases any system
resources in use by the object, eg. objects that use pigpio must have
their <cite>pigpio.pi</cite> client stopped; LEDs should be explicitly turned off.</li>
<li>The very minimal class attributes are described in the <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hardware</span></code></a> metaclass.</li>
<li>Hardware methods are typically called in their own threads, so care should
be taken to make any long-running operations internally threadsafe.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This software was primarily developed for the Raspberry Pi, which
has <a class="reference external" href="/https://pinout.xyz/#">two types of numbering schemes</a> ,
“board” numbering based on physical position and “bcm” numbering
based on the broadcom chip numbering scheme.</p>
<p>Board numbering is easier to use, but <a class="reference external" href="/http://abyz.me.uk/rpi/pigpio/">pigpio</a>
, which we use as a bridge between Python and the GPIOs, uses the BCM scheme.
As such each class that uses the GPIOs takes a board number as its argument
and converts it to a BCM number in the __init__ method.</p>
<p class="last">If there is sufficient demand to make this more flexible, we can implement
an additional <cite>pref</cite> to set the numbering scheme, but the current solution
works without getting too muddy.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In order to use pigpio, the pigpio daemon must be running. See <a class="reference external" href="/http://abyz.me.uk/rpi/pigpio/python.html">the docs</a>
Usually <code class="xref py py-class docutils literal notranslate"><span class="pre">Pilot</span></code> s should be started by the bash script or systemd service
generated by <a class="reference internal" href="/rst/rpilot.setup.setup_pilot.html#module-rpilot.setup.setup_pilot" title="rpilot.setup.setup_pilot"><code class="xref py py-mod docutils literal notranslate"><span class="pre">setup.setup_pilot</span></code></a>, which starts pigpiod.</p>
</div>
<dl class="data">
<dt id="rpilot.core.hardware.BOARD_TO_BCM">
<code class="descclassname">rpilot.core.hardware.</code><code class="descname">BOARD_TO_BCM</code><em class="property"> = {3: 2, 5: 3, 7: 4, 8: 14, 10: 15, 11: 17, 12: 18, 13: 27, 15: 22, 16: 23, 18: 24, 19: 10, 21: 9, 22: 25, 23: 11, 24: 8, 26: 7, 29: 5, 31: 6, 32: 12, 33: 13, 35: 19, 36: 16, 37: 26, 38: 20, 40: 21}</em><a class="headerlink" href="#rpilot.core.hardware.BOARD_TO_BCM" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping from board (physical) numbering to BCM numbering.</p>
<p>See <a class="reference external" href="/https://pinout.xyz/#">this pinout</a>.</p>
<p>Hardware objects take board numbered pins and convert them to BCM
numbers for use with <cite>pigpio</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="/https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="rpilot.core.hardware.BCM_TO_BOARD">
<code class="descclassname">rpilot.core.hardware.</code><code class="descname">BCM_TO_BOARD</code><em class="property"> = {2: 3, 3: 5, 4: 7, 5: 29, 6: 31, 7: 26, 8: 24, 9: 21, 10: 19, 11: 23, 12: 32, 13: 33, 14: 8, 15: 10, 16: 36, 17: 11, 18: 12, 19: 35, 20: 38, 21: 40, 22: 15, 23: 16, 24: 18, 25: 22, 26: 37, 27: 13}</em><a class="headerlink" href="#rpilot.core.hardware.BCM_TO_BOARD" title="Permalink to this definition">¶</a></dt>
<dd><p>The inverse of <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.BOARD_TO_BCM" title="rpilot.core.hardware.BOARD_TO_BCM"><code class="xref py py-const docutils literal notranslate"><span class="pre">BOARD_TO_BCM</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="/https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Hardware">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Hardware</code><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Hardware"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Hardware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="/https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Generic class inherited by all hardware. Should not be instantiated
on its own (but it won’t do anything bad so go nuts i guess).</p>
<p>Primarily for the purpose of defining necessary attributes.</p>
<p>Also defines <cite>__del__</cite> to call <cite>release()</cite> so objects are always released
even if not explicitly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="rst/rpilot.core.hardware.html#rpilot.core.hardware.Beambreak.trigger" title="rpilot.core.hardware.Beambreak.trigger"><strong>trigger</strong></a> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Is this object a discrete event input device?
or, will this device be used to trigger some event? If <cite>True</cite>,
will be given a callback by <a class="reference internal" href="rst/rpilot.tasks.task.html#rpilot.tasks.task.Task" title="rpilot.tasks.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a>, and <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware.assign_cb" title="rpilot.core.hardware.Hardware.assign_cb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assign_cb()</span></code></a>
must be redefined.</li>
<li><a class="reference internal" href="rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware.pin" title="rpilot.core.hardware.Hardware.pin"><strong>pin</strong></a> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – The BCM pin used by this device, or None if no pin is used.</li>
<li><a class="reference internal" href="rst/rpilot.core.utils.html#rpilot.core.utils.Param.type" title="rpilot.core.utils.Param.type"><strong>type</strong></a> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – What is this device known as in <cite>.prefs</cite>? Not required.</li>
<li><a class="reference internal" href="rst/rpilot.core.hardware.html#rpilot.core.hardware.Beambreak.input" title="rpilot.core.hardware.Beambreak.input"><strong>input</strong></a> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Is this an input device?</li>
<li><a class="reference internal" href="rst/rpilot.core.hardware.html#rpilot.core.hardware.LED_RGB.output" title="rpilot.core.hardware.LED_RGB.output"><strong>output</strong></a> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Is this an output device?</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rpilot.core.hardware.Hardware.trigger">
<code class="descname">trigger</code><em class="property"> = False</em><a class="headerlink" href="#rpilot.core.hardware.Hardware.trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Hardware.pin">
<code class="descname">pin</code><em class="property"> = None</em><a class="headerlink" href="#rpilot.core.hardware.Hardware.pin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Hardware.type">
<code class="descname">type</code><em class="property"> = ''</em><a class="headerlink" href="#rpilot.core.hardware.Hardware.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Hardware.input">
<code class="descname">input</code><em class="property"> = False</em><a class="headerlink" href="#rpilot.core.hardware.Hardware.input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Hardware.output">
<code class="descname">output</code><em class="property"> = False</em><a class="headerlink" href="#rpilot.core.hardware.Hardware.output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Hardware.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Hardware.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Hardware.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Every hardware device needs to redefine <cite>release()</cite>, and must</p>
<ul class="simple">
<li>Safely unload any system resources used by the object, and</li>
<li>Return the object to a neutral state - eg. LEDs turn off.</li>
</ul>
<p>When not redefined, a warning is given.</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Hardware.assign_cb">
<code class="descname">assign_cb</code><span class="sig-paren">(</span><em>trigger_fn</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Hardware.assign_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Hardware.assign_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Every hardware device that is a <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware.trigger" title="rpilot.core.hardware.Hardware.trigger"><code class="xref py py-attr docutils literal notranslate"><span class="pre">trigger</span></code></a> must redefine this
to accept a function (typically <a class="reference internal" href="/rst/rpilot.tasks.task.html#rpilot.tasks.task.Task.handle_trigger" title="rpilot.tasks.task.Task.handle_trigger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Task.handle_trigger()</span></code></a>) that
is called when that trigger is activated.</p>
<p>When not redefined, a warning is given.</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Hardware.get_name">
<code class="descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Hardware.get_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Hardware.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Usually Hardware is only instantiated with its pin number,
but we can get its name from prefs</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Beambreak">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Beambreak</code><span class="sig-paren">(</span><em>pin</em>, <em>pull_ud='U'</em>, <em>trigger_ud='D'</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Beambreak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Beambreak" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Hardware</span></code></a></p>
<p>An IR Beambreak sensor.</p>
<p>A phototransistor that changes voltage from ‘high’ to ‘low’ or vice versa
when light is blocked.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first simple">
<li><strong>pig</strong> (<code class="xref py py-meth docutils literal notranslate"><span class="pre">pigpio.pi()</span></code>) – The pigpio connection.</li>
<li><a class="reference internal" href="rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware.pin" title="rpilot.core.hardware.Hardware.pin"><strong>pin</strong></a> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Broadcom-numbered pin, converted from the argument given on instantiation</li>
<li><strong>callbacks</strong> (<em>list</em>) – A list of :meth:<a href="#id4"><span class="problematic" id="id5">`</span></a>pigpio.callback`s kept to clear them on exit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pin</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Board-numbered pin, converted to BCM numbering during instantiation.</li>
<li><strong>pull_ud</strong> (<em>'U'</em><em>, </em><em>'D'</em><em>, </em><em>'B'</em>) – Should this beambreak be pulled up or down?</li>
<li><strong>trigger_ud</strong> (<em>'U'</em><em>, </em><em>'D'</em><em>, </em><em>'B'</em>) – Is the trigger event up (low to high) or down (high to low)?</li>
<li><strong>event</strong> (<a class="reference external" href="/https://docs.python.org/2/library/threading.html#threading.Event" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Event</span></code></a>) – We can be passed an Event object if we want to handle
stage transition logic here instead of the <a class="reference internal" href="/rst/rpilot.tasks.task.html#rpilot.tasks.task.Task" title="rpilot.tasks.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a> object, as is typical.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rpilot.core.hardware.Beambreak.trigger">
<code class="descname">trigger</code><em class="property"> = True</em><a class="headerlink" href="#rpilot.core.hardware.Beambreak.trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Beambreak.type">
<code class="descname">type</code><em class="property"> = 'POKES'</em><a class="headerlink" href="#rpilot.core.hardware.Beambreak.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Beambreak.input">
<code class="descname">input</code><em class="property"> = True</em><a class="headerlink" href="#rpilot.core.hardware.Beambreak.input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Beambreak.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Beambreak.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Beambreak.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply calls <cite>self.pig.stop()</cite> to release pigpio resources.</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Beambreak.assign_cb">
<code class="descname">assign_cb</code><span class="sig-paren">(</span><em>callback_fn</em>, <em>add=False</em>, <em>evented=False</em>, <em>manual_trigger=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Beambreak.assign_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Beambreak.assign_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets <cite>callback_fn</cite> to be called when triggered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callback_fn</strong> (<em>callable</em>) – The function to be called when triggered</li>
<li><strong>add</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Are we adding another callback?
If False, the previous callbacks are cleared.</li>
<li><strong>evented</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Should triggering this event also set the internal <code class="xref py py-attr docutils literal notranslate"><span class="pre">event</span></code>?
Note that <code class="xref py py-attr docutils literal notranslate"><span class="pre">Beambreak.event</span></code> must have been passed.</li>
<li><strong>manual_trigger</strong> (<em>'U'</em><em>, </em><em>'D'</em><em>, </em><em>'B'</em>) – We can override <code class="xref py py-attr docutils literal notranslate"><span class="pre">Beambreak.trigger_ud</span></code> if needed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Beambreak.clear_cb">
<code class="descname">clear_cb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Beambreak.clear_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Beambreak.clear_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to call <cite>.cancel()</cite> on each of the callbacks in <code class="xref py py-attr docutils literal notranslate"><span class="pre">Beambreak.callbacks</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Flag">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Flag</code><span class="sig-paren">(</span><em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Beambreak" title="rpilot.core.hardware.Beambreak"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Beambreak</span></code></a></p>
<p>Trivial Reclass of the Beambreak class with the default directions reversed.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Need to add argument passing into hardware spec so we don’t need stuff like this</p>
</div>
<dl class="attribute">
<dt id="rpilot.core.hardware.Flag.trigger">
<code class="descname">trigger</code><em class="property"> = True</em><a class="headerlink" href="#rpilot.core.hardware.Flag.trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.LED_RGB">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">LED_RGB</code><span class="sig-paren">(</span><em>pins=None</em>, <em>r=None</em>, <em>g=None</em>, <em>b=None</em>, <em>common='anode'</em>, <em>blink=True</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#LED_RGB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.LED_RGB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Hardware</span></code></a></p>
<p>An RGB LED.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first simple">
<li><strong>pig</strong> (<code class="xref py py-meth docutils literal notranslate"><span class="pre">pigpio.pi()</span></code>) – The pigpio connection.</li>
<li><strong>flash_block</strong> (<a class="reference external" href="/https://docs.python.org/2/library/threading.html#threading.Event" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Event</span></code></a>) – An Event to wait on setting further colors
if we are currently in a threaded flash train</li>
<li><strong>end_thread</strong> (<a class="reference external" href="/https://docs.python.org/2/library/threading.html#threading.Event" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Event</span></code></a>) – Set this event to stop a flash train - usually called during object cleanup</li>
<li><strong>pins</strong> (<a class="reference external" href="/https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – <p>After init, pin numbers are kept in a dict like:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="n">bcm_number</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">:</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><strong>stored_color</strong> (<a class="reference external" href="/https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – A color we store to restore after we do a flash train.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pins</strong> (<em>list</em>) – A list of (board) pin numbers.
Either <cite>pins</cite> OR all <cite>r</cite>, <cite>g</cite>, <cite>b</cite> must be passed.</li>
<li><strong>r</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Board number of Red pin - must be passed with <cite>g</cite> and <cite>b</cite></li>
<li><strong>g</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Board number of Green pin - must be passed with <cite>r</cite> and <cite>b</cite></li>
<li><strong>b</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Board number of Blue pin - must be passed with <cite>r</cite> and <cite>g</cite>:</li>
<li><strong>common</strong> (<em>'anode'</em><em>, </em><em>'cathode'</em>) – Is this LED common anode (low turns LED on)
or cathode (low turns LED off)</li>
<li><strong>blink</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Flash RGB at the end of init to show we’re alive.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rpilot.core.hardware.LED_RGB.output">
<code class="descname">output</code><em class="property"> = True</em><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.LED_RGB.type">
<code class="descname">type</code><em class="property"> = 'LEDS'</em><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.LED_RGB.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#LED_RGB.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns LED off and releases pigpio.</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.LED_RGB.set_color">
<code class="descname">set_color</code><span class="sig-paren">(</span><em>col=None</em>, <em>r=None</em>, <em>g=None</em>, <em>b=None</em>, <em>timed=None</em>, <em>stored=False</em>, <em>internal=False</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#LED_RGB.set_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.set_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the color of the LED.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if called during a <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.LED_RGB.color_series" title="rpilot.core.hardware.LED_RGB.color_series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LED_RGB.color_series()</span></code></a>, the color will be stashed and set when the train is over.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>col</strong> (<em>list</em><em>, </em><em>tuple</em>) – an RGB color trio ranging from 0-255. Either <cite>col</cite> or all of <cite>r</cite>, <cite>g</cite>, <cite>b</cite> must be provided</li>
<li><strong>r</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Red intensity 0-255. Must be passed with <cite>g</cite> and <cite>b</cite></li>
<li><strong>g</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Green intensity 0-255. Must be passed with <cite>r</cite> and <cite>b</cite></li>
<li><strong>b</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Blue intensity 0-255. Must be passed with <cite>r</cite> and <cite>g</cite></li>
<li><strong>timed</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Duration to change to this color before turning off in ms.</li>
<li><strong>stored</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Called internally to change back to the color that preceded a flash train. Restores <code class="xref py py-attr docutils literal notranslate"><span class="pre">LED_RGB.stored_color</span></code>.</li>
<li><strong>internal</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – True if being called inside a flash train.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.LED_RGB.flash">
<code class="descname">flash</code><span class="sig-paren">(</span><em>duration, frequency=10, colors=[[255, 255, 255], [0, 0, 0]]</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#LED_RGB.flash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.flash" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a color series by total duration and flash frequency.</p>
<p>Largely a convenience function for on/off flashes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>duration</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><a class="reference external" href="/https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Duration of flash in ms.</li>
<li><strong>frequency</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><a class="reference external" href="/https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Frequency of flashes in Hz</li>
<li><strong>colors</strong> (<em>list</em>) – <p>A list of RGB values 0-255 like:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.LED_RGB.color_series">
<code class="descname">color_series</code><span class="sig-paren">(</span><em>colors</em>, <em>duration</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#LED_RGB.color_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.color_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Change color through a series for a fixed duration.</p>
<p>Wrapper around <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.LED_RGB.threaded_color_series" title="rpilot.core.hardware.LED_RGB.threaded_color_series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LED_RGB.threaded_color_series()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colors</strong> (<em>list</em>) – <p>A list of RGB values 0-255 like:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</li>
<li><strong>duration</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><em>list</em>) – Either a single duration (int, ms)
or list of ints of equal length to <cite>colors</cite> to define
duration for each.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.LED_RGB.threaded_color_series">
<code class="descname">threaded_color_series</code><span class="sig-paren">(</span><em>colors</em>, <em>duration</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#LED_RGB.threaded_color_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.LED_RGB.threaded_color_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Should only be called by <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.LED_RGB.color_series" title="rpilot.core.hardware.LED_RGB.color_series"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LED_RGB.color_series()</span></code></a> because it blocks.</p>
<p>Clears <code class="xref py py-attr docutils literal notranslate"><span class="pre">LED_RGB.flash_block</span></code> , sets colors, sleeps, sets the block, and
then sets any color that was passed during the train.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colors</strong> (<em>list</em>) – <p>A list of RGB values 0-255 like:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</li>
<li><strong>duration</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><em>list</em>) – Either a single duration (int, ms)
or list of ints of equal length to <cite>colors</cite> to define
duration for each.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Solenoid">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Solenoid</code><span class="sig-paren">(</span><em>pin</em>, <em>duration=20</em>, <em>vol=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Solenoid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Solenoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Hardware</span></code></a></p>
<p>Solenoid valves for water delivery.</p>
<p>Only NC solenoids should be used, as there is no way to guarantee
that a pin will maintain its voltage when it is released, and you will
spill water all over the place.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>pigpio has a function to send waveforms, which would make solenoid
opening far more accurate. If you are using an audio device, however,
creating and sending waveforms disables it. Waveforms are thus not
implemented here, but their implementation is left, skeleton-like,
in the source should you do an experiment without audio that
needs more precision.</p>
<p class="last">It’s hard to see why submillisecond precision
would matter all that much for reward delivery, but such is the
obsessiveness of scientists.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pin</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Board pin number, converted to BCM on init.</li>
<li><strong>duration</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><a class="reference external" href="/https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – duration of open, ms.</li>
<li><strong>vol</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><a class="reference external" href="/https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – desired volume of reward in uL, must have computed calibration results, see <a href="#id6"><span class="problematic" id="id7">:method:`~rpilot.core.terminal.Terminal.calibrate_ports`</span></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rpilot.core.hardware.Solenoid.output">
<code class="descname">output</code><em class="property"> = True</em><a class="headerlink" href="#rpilot.core.hardware.Solenoid.output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Solenoid.type">
<code class="descname">type</code><em class="property"> = 'PORTS'</em><a class="headerlink" href="#rpilot.core.hardware.Solenoid.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Solenoid.mode">
<code class="descname">mode</code><em class="property"> = 'DURATION'</em><a class="headerlink" href="#rpilot.core.hardware.Solenoid.mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Solenoid.dur_from_vol">
<code class="descname">dur_from_vol</code><span class="sig-paren">(</span><em>vol</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Solenoid.dur_from_vol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Solenoid.dur_from_vol" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a desired volume, set our open duration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>vol</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a><em>, </em><a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – desired reward volume in uL</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Solenoid.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Solenoid.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Solenoid.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply releases the pigpio resources</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Solenoid.open">
<code class="descname">open</code><span class="sig-paren">(</span><em>duration=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Solenoid.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Solenoid.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the valve.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>duration</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – If provided, open for this duration instead of
the duration stored on instantiation.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Wheel">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Wheel</code><span class="sig-paren">(</span><em>mouse_idx=0</em>, <em>fs=10</em>, <em>thresh=100</em>, <em>thresh_type='dist'</em>, <em>start=True</em>, <em>gpio_trig=False</em>, <em>pins=None</em>, <em>mode='vel_total'</em>, <em>integrate_dur=5</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Hardware</span></code></a></p>
<p>A continuously measured mouse wheel.</p>
<p>Uses a USB computer mouse.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">‘vel’ thresh_type not implemented</p>
</div>
<dl class="attribute">
<dt id="rpilot.core.hardware.Wheel.input">
<code class="descname">input</code><em class="property"> = True</em><a class="headerlink" href="#rpilot.core.hardware.Wheel.input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Wheel.type">
<code class="descname">type</code><em class="property"> = 'Wheel'</em><a class="headerlink" href="#rpilot.core.hardware.Wheel.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Wheel.trigger">
<code class="descname">trigger</code><em class="property"> = False</em><a class="headerlink" href="#rpilot.core.hardware.Wheel.trigger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Wheel.THRESH_TYPES">
<code class="descname">THRESH_TYPES</code><em class="property"> = ['dist', 'x', 'y', 'vel']</em><a class="headerlink" href="#rpilot.core.hardware.Wheel.THRESH_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Wheel.MODES">
<code class="descname">MODES</code><em class="property"> = ('vel_total', 'steady', 'dist', 'timed')</em><a class="headerlink" href="#rpilot.core.hardware.Wheel.MODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="rpilot.core.hardware.Wheel.MOVE_DTYPE">
<code class="descname">MOVE_DTYPE</code><em class="property"> = [('vel', 'i4'), ('dir', 'U5'), ('timestamp', 'f8')]</em><a class="headerlink" href="#rpilot.core.hardware.Wheel.MOVE_DTYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.check_thresh">
<code class="descname">check_thresh</code><span class="sig-paren">(</span><em>move</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.check_thresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.check_thresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates thresh_val and checks whether it’s above/below threshold</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>move</strong> (<em>np.array</em>) – Structured array with fields (‘vel’, ‘dir’, ‘timestamp’)</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.calc_move">
<code class="descname">calc_move</code><span class="sig-paren">(</span><em>move</em>, <em>thresh_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.calc_move"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.calc_move" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance move depending on type (x, y, total dist)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>(</strong><strong>)</strong> (<em>thresh_type</em>) – </li>
<li><strong>(</strong><strong>)</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.thresh_trig">
<code class="descname">thresh_trig</code><span class="sig-paren">(</span><em>which=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.thresh_trig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.thresh_trig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.assign_cb">
<code class="descname">assign_cb</code><span class="sig-paren">(</span><em>trigger_fn</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.assign_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.assign_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Every hardware device that is a <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware.trigger" title="rpilot.core.hardware.Hardware.trigger"><code class="xref py py-attr docutils literal notranslate"><span class="pre">trigger</span></code></a> must redefine this
to accept a function (typically <a class="reference internal" href="/rst/rpilot.tasks.task.html#rpilot.tasks.task.Task.handle_trigger" title="rpilot.tasks.task.Task.handle_trigger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Task.handle_trigger()</span></code></a>) that
is called when that trigger is activated.</p>
<p>When not redefined, a warning is given.</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.l_measure">
<code class="descname">l_measure</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.l_measure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.l_measure" title="Permalink to this definition">¶</a></dt>
<dd><p>Task has signaled that we need to start measuring movements for a trigger</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>(</strong><strong>)</strong> (<em>value</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.l_clear">
<code class="descname">l_clear</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.l_clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.l_clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop measuring!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>(</strong><strong>)</strong> (<em>value</em>) – </td>
</tr>
</tbody>
</table>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.l_stop">
<code class="descname">l_stop</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.l_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.l_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop measuring and clear system resources
:param value ():</p>
<p>Returns:</p>
</dd></dl>

<dl class="method">
<dt id="rpilot.core.hardware.Wheel.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Wheel.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Wheel.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Every hardware device needs to redefine <cite>release()</cite>, and must</p>
<ul class="simple">
<li>Safely unload any system resources used by the object, and</li>
<li>Return the object to a neutral state - eg. LEDs turn off.</li>
</ul>
<p>When not redefined, a warning is given.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Scale">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Scale</code><span class="sig-paren">(</span><em>model='stamps.com'</em>, <em>vendor_id=None</em>, <em>product_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Hardware</span></code></a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented, working on using a digital scale to
make weighing faster.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>model</strong> – </li>
<li><strong>vendor_id</strong> – </li>
<li><strong>product_id</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="rpilot.core.hardware.Scale.MODEL">
<code class="descname">MODEL</code><em class="property"> = {'stamps.com': {'product_id': 27251, 'vendor_id': 5190}}</em><a class="headerlink" href="#rpilot.core.hardware.Scale.MODEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="rpilot.core.hardware.Pull">
<em class="property">class </em><code class="descclassname">rpilot.core.hardware.</code><code class="descname">Pull</code><span class="sig-paren">(</span><em>pin</em>, <em>pud</em><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Pull" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="/rst/rpilot.core.hardware.html#rpilot.core.hardware.Hardware" title="rpilot.core.hardware.Hardware"><code class="xref py py-class docutils literal notranslate"><span class="pre">rpilot.core.hardware.Hardware</span></code></a></p>
<p>Pull a pin up or down. Called by the <code class="xref py py-class docutils literal notranslate"><span class="pre">Pilot</span></code> instead of by
a <a class="reference internal" href="/rst/rpilot.tasks.task.html#rpilot.tasks.task.Task" title="rpilot.tasks.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a> as is usual.</p>
<p>If a pin should be pulled up or down always, regardless of task,
use this. For example, the <a class="reference external" href="/https://www.hifiberry.com/shop/boards/hifiberry-amp2/">otherwise wonderful HiFiBerry Amp 2</a>
has an undocumented … feature … : the (board) pin 8 mutes output when low.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pin</strong> (<a class="reference external" href="/https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – (Board) pin number</li>
<li><strong>pud</strong> (<em>'U'</em><em>, </em><em>'D'</em>) – Pull the pin ‘U’p or ‘D’own.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="rpilot.core.hardware.Pull.release">
<code class="descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="/_modules/rpilot/core/hardware.html#Pull.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rpilot.core.hardware.Pull.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply releases the pigpio client.</p>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Jonny Saunders.<br/>
      Created using <a href="/http://sphinx-doc.org/">Sphinx</a> 1.8.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>