------------------
- Make verbose/nonverbose mode - either report whole trials or events
- Backfill logging into terminal & etc.

- classic mode, button that switches the UI to flickering grey screen
- sound calibration routine
- move all class references to __init__
- make batch mouse creation window
- add mouse infobox to left of plot
- make superclass of all "parameters-like" windows (windows that are a list of something.)
- implement sending continuous data in pilot.run_task
- routine to update git repo and restart on command
- make permissions safe.
- handshaking when pi connects to terminal - check IP, store status
- new pilot button is broken
- make control panel responsive to pi state
- clear last trigger on stop
- check for dupes on mouse lists
- unify param structure, make class
- change data ops with database ops using psycopg http://initd.org/psycopg/
- networking should probably just be router-only.
- give task object network node - send messages and handle task transitions directly from task.
- make hierarchical logging
- reinstate message receipts
- make pilot and jackclient quit nicely
- use ticks from pigpio triggers instead of generating timestamps from python
- see if can get ticks from jackd for sample processing time
- do 'interfaces' like https://www.expyriment.org/
- add Cython typing to jack client - https://cython.readthedocs.io/en/latest/src/userguide/parallelism.html
- store pilot name in mouse object
- https://stackoverflow.com/a/54405162
- https://pypi.org/project/psutil/
- https://scipy-cookbook.readthedocs.io/items/C_Extensions_NumPy_arrays.html
- https://www.egenix.com/products/python/mxBase/mxQueue/mxQueue.pdf
- https://sarge.readthedocs.io/en/latest/tutorial.html#buffering-issues
- https://coverage.readthedocs.io/en/v4.5.x/
- add pi to 'input' group on setup.
- use 'OptionList' in npyscreen for setup forms https://npyscreen.readthedocs.io/options.html
- get playback times from jack directly http://jackaudio.org/files/docs/html/group__TimeFunctions.html
- pilot send hash on handshake, add column for type of hash (agent type), and write pilot hash every time run.
- add video to pilot setup
- implement message forwarding, eg. to=['hop 1', 'hop 2']
- make flags for messages, like 'NOCONFIRM'
- git send-email for classic mode.....
- implement parameter setting, datatype mapping for stimulus managers (ie. 'correction trials' should be available for a particular stim manager, and the corresponding data should be added to data description)
- separate task description generation from GUI
- option to prebuffer all sounds or buffer on demand
- must add "CONFIG" value to prefs - ie. "CONFIG": "VISUAL" as required by visuals module
- be better about capitalization: ie. "LINEAGE" needs to be "CHILD" not "child", always test against .lower() or .upper()
- DONT LOG PINGS
- make logs machine readable: standardized format and standardized delimiters
- refactor mouse into subject
- clean up imports: should be rpilot.subject not rpilot.core.subject.Subject
- subject class should store pilot and pilot config
- make general timestamp column for every row that's saved.
- make session increase cumulatively across steps
- separate file and console handlers like https://docs.python.org/3/howto/logging-cookbook.html
- setup terminal to be a ntp server by default https://help.ubuntu.com/lts/serverguide/NTP.html https://opensource.com/article/18/12/manage-ntp-chrony https://raspberrytips.com/time-sync-raspberry-pi/
- set status of pis to unknown if no response from pings
- make arrayqueue to efficiently stream frames https://stackoverflow.com/a/38775513
- for transforms: http://www.dabeaz.com/coroutines/ http://www.dabeaz.com/finalgenerator/
- change the relevant methods in the jack sound class to be @parameters

- move core.hardware to autopilot.hardware
- general debugging mode that enables logging, normally disable logging.
- integrate https://github.com/jeffbass/imagezmq
- https://www.pyimagesearch.com/2017/10/09/optimizing-opencv-on-the-raspberry-pi/
- https://www.theimpossiblecode.com/blog/build-faster-opencv-raspberry-pi3/
- add enlarged usbfs to setup for all cameras
- alt to opencv https://gist.github.com/royshil/0f674c96281b686a9a62
- opencl for accelerating video encoding? https://abhitronix.github.io/2019/01/15/VC4CL-1/ https://trac.ffmpeg.org/wiki/HWAccelIntro
- use a thread pool for handling messages, spawning threads could be costly
- make arrayqueue to efficiently stream frames https://stackoverflow.com/a/38775513
- for transforms: http://www.dabeaz.com/coroutines/ http://www.dabeaz.com/finalgenerator/


- debugging v4l2 cameras
    echo 3 > /sys/class/video4linux/videox/dev_debug
    dmesg
- general debugging mode that enables logging, normally disable logging.

.. automodsumm:: rpilot.core.gui
    :toctree:


- openssl compilation probs with qt https://bugreports.qt.io/browse/QTBUG-68156?focusedCommentId=413606&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-413606
    or just -no-openssl
- programming python extensions in c: https://pythonextensionpatterns.readthedocs.io/en/latest/index.html

-python compilation flags LTO_CFLAGS=" -g -flto -fuse-linker-plugin" ./configure \
--enable-shared \
--enable-unicode=ucs4 \
--enable-optimizations \
--enable-ipv6 \
--with-dbmliborder=bdb:gdbm \
--with-system-expat \
--with-computed-gotos \
--with-lto